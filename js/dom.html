<!DOCTYPE html>
<html lang="en">
    <head>
        <title>DOM Reading</title>
        <style>           
            .tab:after {
                border-right: 1px solid;
            }
        </style>
    </head>

    <body>
        <button onclick="run();" style="clear: both;">Run</button>
        <div id="left" style="width: 45%; float: left; margin-left: 150px;">

            <textarea style="height: 500px; width: 500px;" id="code"></textarea>
        </div>
        <div id="right" style="width: 45%; float: right; width: 500px; height: 500px; border: 1px solid; margin-right: 150px;">

        </div>
    </body>

</html>


<script type="text/javascript">
    function getChildNode(element)
    {
        if (element.tagName === undefined) {
            return "";
        }
        var str = "";
        //  if(isRoot)
        // str += "<ul>";
        // str = '<div style = "margin-left: 5px;" class = "parent">';
        str += '<div style = "margin-left: 15px; border-left: 1px solid; border-bottom: 1px solid; width: 15px; padding-right:3px">' + '<div style = "margin-left: 10px;">' + element.tagName + '</div>' + '</div>';
        //document.write(str);
        //  document.write(tab + element.tagName + "<br>");
        if (element.childNodes)
        {
            str += '<div class = "parent" style = "margin-left: 18px;">';
            var nodes = element.childNodes.length;
            // console.log(nodes);
            for (var i = 0; i < nodes; i++)
            {
                var node = element.childNodes[i];
                str += getChildNode(node);
            }
            str += "</div>";
        }
        // str += "</div>";
        // if(isRoot)
        // str += "</ul>";
        return str;
    }

    function run()
    {
        var code = document.getElementById('code').value;
        var div = document.createElement('div');
        div.innerHTML = code;
        var str = getChildNode(div);
        document.getElementById('right').innerHTML = str;
        // alert(str);
    }


</script>