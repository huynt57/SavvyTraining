<!DOCTYPE html>
<html lang="en">
    <head>
        <title>DOM Reading</title>
        <style>           
            .tab:after {
                border-right: 1px solid;
            }
        </style>
    </head>

    <body>
        <button onclick="run();" style="clear: both;">Run</button>
        <div id="left" style="width: 45%; float: left; margin-left: 150px;">

            <textarea style="height: 500px; width: 500px;" id="code"></textarea>
        </div>
        <div id="right" style="width: 45%; float: right; width: 500px; height: 500px; border: 1px solid; margin-right: 150px;">

        </div>
    </body>

</html>


<script type="text/javascript">
    var one_tab = '<div class = "tab" style = "display:inline-block; margin-left:15px;border-left:1px solid; ">&nbsp</div>';
    //window.onload = getChildNode(document.documentElement, "");
    function getChildNode(element, tab)
    {
        if (element.tagName === undefined) {
            return;
        }
        var str = tab + '<span style="border-bottom: 1px solid;">&nbsp&nbsp&nbsp&nbsp</span>' + element.tagName + "<br>";
        document.getElementById('right').innerHTML += str;
        //document.write(str);
        //  document.write(tab + element.tagName + "<br>");
        if (element.childNodes)
        {
            var nodes = element.childNodes.length;
            // console.log(nodes);
            for (var i = 0; i < nodes; i++)
            {
                var node = element.childNodes[i];
                getChildNode(node, tab + one_tab);
            }
        }
    }

    function run()
    {
        document.getElementById('right').innerHTML = "";
        var code = document.getElementById('code').value;
        var div = document.createElement('html');
        div.innerHTML = code;
        getChildNode(div, '');
    }


</script>